(this["webpackJsonpcalender-frontend"]=this["webpackJsonpcalender-frontend"]||[]).push([[0],{105:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(8),i=a.n(s),l=(a(105),a(64)),o=a(10),r=a(63),d=a(86),u=a.n(d),j=a(87),b=a.n(j),m=a(88),O=a.n(m),h=a(89),p=a.n(h),f=(a(109),a(175)),g=(a(110),a(60)),x=a.n(g),v=a(5),S=function(e){var t=e.clickedDate,a=e.addEvent,c=e.modalVisible,s=Object(n.useState)(""),i=Object(o.a)(s,2),l=i[0],r=i[1],d=Object(n.useState)(""),u=Object(o.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(""),O=Object(o.a)(m,2),h=O[0],p=O[1],f=Object(n.useState)("12:00"),g=Object(o.a)(f,2),S=g[0],w=g[1],N=Object(n.useState)("12:00"),k=Object(o.a)(N,2),E=k[0],C=k[1],_=new URLSearchParams(window.location.search).get("stadium");return Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),a({name:l,email:j,phone:h,date:t,start_time:S,end_time:E,stadium:_}),c(!1)},id:"form",children:Object(v.jsxs)("div",{className:"flex-wrapper",children:[Object(v.jsxs)("div",{className:"row mr-1",children:[Object(v.jsx)("input",{onChange:function(e){var t=e.target.value;r(t)},className:"form-control m-1",id:"name",type:"text",name:"name",placeholder:"Event Name"}),Object(v.jsx)("input",{className:"form-control m-1",id:"email",onChange:function(e){b(e.target.value)},type:"email",name:"email",placeholder:"email"}),Object(v.jsx)("input",{onChange:function(e){p(e.target.value)},className:"form-control m-1",id:"phone",type:"text",name:"phone",placeholder:"Phone Number"}),Object(v.jsx)("input",{className:"form-control m-1",disabled:!0,value:t}),Object(v.jsxs)("div",{className:"col-md-12 m-1",children:[Object(v.jsx)("label",{htmlFor:"startdate",children:"Start Time"}),Object(v.jsx)(x.a,{id:"startdate",onChange:w,value:S})]}),Object(v.jsxs)("div",{className:"col-md-12 m-1",children:[Object(v.jsx)("label",{htmlFor:"enddate",children:"End Time"}),Object(v.jsx)(x.a,{id:"enddate",onChange:C,value:E})]})]}),Object(v.jsx)("input",{id:"submit",className:"btn btn-warning",type:"submit",name:"Add"})]})})},w=function(e){var t=e.addUser,a=e.setClickEventTotalUsers,c=e.clickEventTotalUsers,s=e.setUserModalVisible,i=Object(n.useState)(""),l=Object(o.a)(i,2),r=l[0],d=l[1],u=Object(n.useState)(""),j=Object(o.a)(u,2),b=j[0],m=j[1];return Object(v.jsx)("form",{onSubmit:function(e){e.preventDefault(),t({name:r,email:b}),a(c+1),s(!1)},id:"form",children:Object(v.jsxs)("div",{className:"flex-wrapper",children:[Object(v.jsxs)("div",{className:"row mr-1",children:[Object(v.jsx)("input",{onChange:function(e){var t=e.target.value;d(t)},className:"form-control m-1",id:"name",type:"text",name:"name",placeholder:"User Name"}),Object(v.jsx)("input",{className:"form-control m-1",id:"email",onChange:function(e){m(e.target.value)},type:"email",name:"email",placeholder:"User Email"})]}),Object(v.jsx)("input",{id:"submit",className:"btn btn-primary",type:"submit",name:"Add"})]})})},N=a(54),k=a.n(N),E=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),s=t[0],i=t[1],d=c.a.useState(!1),j=Object(o.a)(d,2),m=j[0],h=j[1],g=c.a.useState(null),x=Object(o.a)(g,2),N=x[0],E=x[1],C=new URLSearchParams(window.location.search).get("stadium");console.log("stadium="+C);var _=c.a.useState(null),U=Object(o.a)(_,2),y=U[0],D=U[1],T=c.a.useState(null),A=Object(o.a)(T,2),L=A[0],F=A[1],P=c.a.useState(null),I=Object(o.a)(P,2),M=I[0],V=I[1],R=c.a.useState(null),B=Object(o.a)(R,2),J=(B[0],B[1]),z={"en-US":a(58)},W=Object(r.b)({format:u.a,parse:b.a,startOfWeek:O.a,getDay:p.a,locales:z}),Y=c.a.useState([]),q=Object(o.a)(Y,2),G=q[0],H=q[1],K=function(){k.a.get("https://api.dreampotential.org/bookingstadium/api/bookings").then((function(e){console.log(e.data),e.data.forEach((function(e,t){var a=e.date.split("-"),n=parseInt(a[0]),c=parseInt(a[1])-1,s=parseInt(a[2]);console.log(n,c,s),H((function(t){return[].concat(Object(l.a)(t),[{id:e.id,start:new Date(n,c,s),end:new Date(n,c,s),title:e.name,email:e.email,phone:e.phone,date:e.date,start_time:e.start_time,end_time:e.end_time,stadium:e.stadium,total_users:e.total_users}])}))}))}))};Object(n.useEffect)((function(){K()}),[]);var Q=c.a.useState(""),X=Object(o.a)(Q,2),Z=X[0],$=X[1],ee=c.a.useState(""),te=Object(o.a)(ee,2),ae=te[0],ne=te[1],ce=c.a.useState(""),se=Object(o.a)(ce,2),ie=se[0],le=se[1],oe=c.a.useState(""),re=Object(o.a)(oe,2),de=re[0],ue=re[1],je=c.a.useState(null),be=Object(o.a)(je,2),me=be[0],Oe=be[1],he=c.a.useState(null),pe=Object(o.a)(he,2),fe=pe[0],ge=pe[1],xe=c.a.useState(null),ve=Object(o.a)(xe,2),Se=ve[0],we=ve[1],Ne=c.a.useState(null),ke=Object(o.a)(Ne,2),Ee=ke[0],Ce=ke[1],_e=c.a.useState(null),Ue=Object(o.a)(_e,2),ye=Ue[0],De=Ue[1],Te=c.a.useState(!1),Ae=Object(o.a)(Te,2),Le=Ae[0],Fe=Ae[1],Pe=c.a.useState(!1),Ie=Object(o.a)(Pe,2),Me=Ie[0],Ve=Ie[1],Re=c.a.useState(!1),Be=Object(o.a)(Re,2),Je=Be[0],ze=Be[1],We=c.a.useState(!1),Ye=Object(o.a)(We,2),qe=Ye[0],Ge=Ye[1];return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(r.a,{selectable:!0,localizer:W,events:G,startAccessor:"start",endAccessor:"end",style:{height:500},onSelectEvent:function(e){return function(e){console.log(e),$(e.id),Fe(!0),ne(e.title),le(e.email),ue(e.phone),Oe(e.date),ge(e.start_time),we(e.end_time),Ce(e.total_users),De(e.stadium)}(e)},onSelectSlot:function(e){return function(e){var t=e.start.getDate(),a=e.start.getMonth(),n=e.start.getFullYear();new URLSearchParams(window.location.search).get("stadium"),J(C),D(t),F(a),V(n),E(n.toString()+"-"+(a+1).toString()+"-"+t.toString()),console.log(N),i(!0)}(e)}}),Object(v.jsx)(f.a,{title:"Add event",visible:s,onOk:function(){h(!0),i(!1),h(!1)},confirmLoading:m,onCancel:function(){i(!1)},children:Object(v.jsx)(S,{clickedDate:N,addEvent:function(e){console.log(e),k.a.post("https://api.dreampotential.org/bookingstadium/bookings/",e).then((function(e){console.log(e),H((function(t){return[].concat(Object(l.a)(t),[{id:e.id,start:new Date(M,L,y),end:new Date(M,L,y),title:e.data.name,email:e.data.email,phone:e.data.phone,date:e.data.date,start_time:e.data.start_time,end_time:e.data.end_time,stadium:e.data.stadium}])}))}))},modalVisible:i})}),Object(v.jsxs)(f.a,{title:"Event",visible:Le,onOk:function(){Ve(!0),Fe(!1),Ve(!1)},confirmLoading:Me,onCancel:function(){Fe(!1)},children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Event:"})," ",ae]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Email:"})," ",ie]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Phone:"})," ",de]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Date:"})," ",me]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Start Time:"})," ",fe]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"End Time:"})," ",Se]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Stadium:"})," ",ye]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:Ee})," user are attending"]}),Object(v.jsx)("button",{onClick:function(){ze(!0)},className:"btn btn-primary",children:"Attend"})]}),Object(v.jsx)(f.a,{title:"Attend Event",visible:Je,onOk:function(){Ge(!0),ze(!1),Ge(!1)},confirmLoading:qe,onCancel:function(){ze(!1)},children:Object(v.jsx)(w,{addUser:function(e){e.event=Z,console.log(e),k.a.post("https://api.dreampotential.org/bookingstadium/user/assign/",e).then((function(e){H([]),K()}))},setClickEventTotalUsers:Ce,clickEventTotalUsers:Ee,setUserModalVisible:ze})})]})},C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,176)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(E,{})}),document.getElementById("root")),C()}},[[168,1,2]]]);
//# sourceMappingURL=main.d38007d2.chunk.js.map